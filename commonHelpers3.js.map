{"version":3,"file":"commonHelpers3.js","sources":["../src/js/03-feedback.js"],"sourcesContent":["import throttle from 'lodash.throttle';\n\nconst refs = {\n  input: document.querySelector('.feedback-form input'),\n  textarea: document.querySelector('.feedback-form textarea'),\n  form: document.querySelector('.feedback-form'),\n};\nconst LSKey = 'feedback-form-state';\n\nconst inputObj = {\n  email: '',\n  message: '',\n};\n\nrefs.input.addEventListener('input', handlerInputEmail);\nrefs.textarea.addEventListener('input', handlerInputMessage);\nrefs.form.addEventListener('submit', handlerSubmit);\n\nconst setItemToLS = throttle(() => {\n  localStorage.setItem(LSKey, JSON.stringify(inputObj));\n}, 500);\n\nconst storedData = localStorage.getItem(LSKey);\nif (storedData) {\n  const parsedData = JSON.parse(storedData);\n  inputObj.email = parsedData.email;\n  inputObj.message = parsedData.message;\n  refs.input.value = inputObj.email;\n  refs.textarea.value = inputObj.message;\n}\n\nfunction handlerInputEmail(evt) {\n  let inputEmail = evt.currentTarget.value;\n  inputObj.email = inputEmail;\n  setItemToLS();\n}\n\nfunction handlerInputMessage(evt) {\n  let inputMessage = evt.currentTarget.value;\n  inputObj.message = inputMessage;\n  setItemToLS();\n}\n\nfunction handlerSubmit(evt) {\n  evt.preventDefault();\n  console.log('data', inputObj);\n  evt.currentTarget.reset();\n  localStorage.removeItem(LSKey);\n}\n"],"names":["refs","LSKey","inputObj","handlerInputEmail","handlerInputMessage","handlerSubmit","setItemToLS","throttle","storedData","parsedData","evt","inputEmail","inputMessage"],"mappings":"wIAEA,MAAMA,EAAO,CACX,MAAO,SAAS,cAAc,sBAAsB,EACpD,SAAU,SAAS,cAAc,yBAAyB,EAC1D,KAAM,SAAS,cAAc,gBAAgB,CAC/C,EACMC,EAAQ,sBAERC,EAAW,CACf,MAAO,GACP,QAAS,EACX,EAEAF,EAAK,MAAM,iBAAiB,QAASG,CAAiB,EACtDH,EAAK,SAAS,iBAAiB,QAASI,CAAmB,EAC3DJ,EAAK,KAAK,iBAAiB,SAAUK,CAAa,EAElD,MAAMC,EAAcC,EAAS,IAAM,CACjC,aAAa,QAAQN,EAAO,KAAK,UAAUC,CAAQ,CAAC,CACtD,EAAG,GAAG,EAEAM,EAAa,aAAa,QAAQP,CAAK,EAC7C,GAAIO,EAAY,CACd,MAAMC,EAAa,KAAK,MAAMD,CAAU,EACxCN,EAAS,MAAQO,EAAW,MAC5BP,EAAS,QAAUO,EAAW,QAC9BT,EAAK,MAAM,MAAQE,EAAS,MAC5BF,EAAK,SAAS,MAAQE,EAAS,OACjC,CAEA,SAASC,EAAkBO,EAAK,CAC9B,IAAIC,EAAaD,EAAI,cAAc,MACnCR,EAAS,MAAQS,EACjBL,GACF,CAEA,SAASF,EAAoBM,EAAK,CAChC,IAAIE,EAAeF,EAAI,cAAc,MACrCR,EAAS,QAAUU,EACnBN,GACF,CAEA,SAASD,EAAcK,EAAK,CAC1BA,EAAI,eAAc,EAClB,QAAQ,IAAI,OAAQR,CAAQ,EAC5BQ,EAAI,cAAc,QAClB,aAAa,WAAWT,CAAK,CAC/B"}